{% extends "base.html.twig" %}
{% block title %}Edit User Profile{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('assets/css/userProfile.css') }}" type="text/css" rel="stylesheet"/>
{% endblock %}
{% block content %}
    <div class="col-xs-8 col-xs-offset-2 form-style">
        {% set userTastes = {} %}
        {% for u in userProfile.musicalTaste.getValues %}
            {%  set userTastes = userTastes|merge([u.name]) %}
        {% endfor %}
        <form action="{{ path('create_userProfile') }}" method="post" class="row box-form">
                <div class="text-center">

                    <img class="image" src="{{ app.session.get('picture') }}" alt="">
                    <h2 class="text-center"><span>Hey, {{ app.session.get('name') }} fill your profile :)</span></h2>
                </div>
                <input name="user" type="hidden" value="{{ app.session.get('user') }}">
                <input name="picture" type="hidden" value="{{ app.session.get('picture') }}">
                <div class="form-group row">
                    <label for="aboutme">AboutME</label>
                    <textarea name="aboutme" class="form-control col-10" id="aboutme" value="" rows="6">{{ userProfile.aboutMe ? userProfile.aboutMe : "" }} </textarea>
                </div>
                <div class="form-group row">
                    <label for="example-date-input" class="col-2 col-form-label">BirthDate</label>
                    <div class="col-10">
                        <input name="birth" class="form-control" type="date" value="{{userProfile.birthDate is null ? "" : userProfile.birthDate.format('Y-m-d')|date('Y-m-d') }}" id="example-date-input">
                    </div>
                </div>
                <div class="form-group row">
                    <label for="tastes" class=" col-form-label">Musical Tastes</label>
                    <ul>
                        {% for key, taste in tastes %}

                            <li class="list-taste col-xs-2 "><input name="{{ taste }}" type="checkbox" id="{{ 'cd' ~ key }}" {{ taste in userTastes ? 'checked' :'' }}/>
                                <label class="check-label" for="{{ 'cd' ~ key }}" ><h3>{{ taste }}</h3></label>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="button-section row">
                    <button type="submit" class="btn btn-primary col-xs-3">Submit</button>
                    {#<button class="btn btn-primary">#}<a class="btn btn-primary" href="{{ path('home') }}">Go Home</a>{#</button>#}
                    <div class="col-xs-4 col-xs-offset-3">
                        <span class="privacy-policy ">
                        <input type="checkbox" class="form-check-input " name="policy" required>&nbsp;You agree to our Terms and Policy.
                    </span>
                    </div>
                </div>
        </form>
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
{% endblock %}